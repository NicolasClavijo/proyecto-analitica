# ğŸ“˜ **DOCUMENTACIÃ“N DEL PROYECTO â€“ EduFuture (API + Interfaz Dash)**

## **Sistema Inteligente de PredicciÃ³n de GPA Estudiantil**

---

## âœ… **1. IntroducciÃ³n**

EduFuture es un sistema que integra **un modelo de Machine Learning**, una **API desarrollada en Flask**, y una **interfaz grÃ¡fica interactiva creada con Dash**, diseÃ±ada para predecir el rendimiento acadÃ©mico (GPA) de un estudiante a partir de factores acadÃ©micos y extracurriculares.

Este documento describe:

* El funcionamiento del API
* CÃ³mo usarlo
* Arquitectura general
* ValidaciÃ³n de entradas y manejo de errores
* ExplicaciÃ³n de la interfaz visual
* DocumentaciÃ³n del cÃ³digo

---

# âœ… **2. Arquitectura General del Proyecto**

El sistema estÃ¡ compuesto por 3 mÃ³dulos:

### **1ï¸âƒ£ API en Flask**

Permite enviar datos en formato JSON y recibir la predicciÃ³n generada por el modelo.
Archivo principal: **app.py (Flask)**
Modelo cargado: **modelo_final.pkl**

### **2ï¸âƒ£ Interfaz web en Dash (Front-End + Cliente API)**

Permite que el usuario interactÃºe con botones, sliders y toggles.
Archivo principal: **app_dash.py**

### **3ï¸âƒ£ Modelo de Machine Learning**

Entrenado previamente en Google Colab y exportado como archivo `.pkl`.

---

# ğŸŸ¦ **3. DocumentaciÃ³n del API (Flask)**

## ğŸ“ **URL del endpoint**

```
POST /predecir
```

## ğŸ“© **Formato de entrada (JSON)**

```json
{
    "StudyTimeWeekly": 15,
    "Absences": 2,
    "Tutoring": 1,
    "ParentalSupport": 1,
    "Extracurricular": 1,
    "Sports": 1,
    "Music": 0
}
```

### **DescripciÃ³n de parÃ¡metros**

| ParÃ¡metro       | Tipo  | Rango | DescripciÃ³n                   |
| --------------- | ----- | ----- | ----------------------------- |
| StudyTimeWeekly | float | 0â€“60  | Horas de estudio semanal      |
| Absences        | float | 0â€“50  | Faltas acumuladas             |
| Tutoring        | int   | 0 o 1 | Recibe tutorÃ­as               |
| ParentalSupport | int   | 0 o 1 | Apoyo parental                |
| Extracurricular | int   | 0 o 1 | Actividades extracurriculares |
| Sports          | int   | 0 o 1 | Actividades deportivas        |
| Music           | int   | 0 o 1 | Actividades musicales         |

---

## ğŸ“¤ **Respuesta del API**

```json
{
    "GPA_Predicho": 3.42
}
```

El API siempre devolverÃ¡:

* Un valor numÃ©rico entre **0.0 y 4.0**
* Formato JSON estÃ¡ndar

---

## ğŸ›  **Funcionamiento interno del endpoint**

```python
@app.route("/predecir", methods=["POST"])
def predecir():
    data = request.get_json()

    entrada = np.array([[    # Se ordenan las variables en el orden esperado por el modelo
        data["StudyTimeWeekly"],
        data["Absences"],
        data["Tutoring"],
        data["ParentalSupport"],
        data["Extracurricular"],
        data["Sports"],
        data["Music"]
    ]])

    prediccion = modelo.predict(entrada)[0]

    return jsonify({"GPA_Predicho": float(prediccion)})
```

---

## â— **ValidaciÃ³n y Manejo de Errores**

Si falta un parÃ¡metro o tiene formato incorrecto, se debe retornar:

* CÃ³digo de estado: **400**
* Mensaje de error legible

Ejemplo:

```json
{
    "error": "Falta el parÃ¡metro StudyTimeWeekly"
}
```

*(Puedes agregar este bloque en tu aplicaciÃ³n si tu profesor lo exige)*

---

# ğŸŸ© **4. DocumentaciÃ³n de la Interfaz Dash**

## ğŸ¯ **Objetivo**

La app Dash permite:

* Manipular valores con toggles y steppers
* Validar la informaciÃ³n ingresada
* Enviar los datos al API
* Visualizar el GPA con un grÃ¡fico tipo â€œdonaâ€
* Mostrar nivel de riesgo acadÃ©mico
* Dar retroalimentaciÃ³n visual y mensajes de error

---

## ğŸ–¼ **Componentes principales**

### ğŸ”¢ **Steppers (Horas y Ausencias)**

Permiten aumentar o disminuir valores con botones +/â€“

```python
@app.callback(
    [Output('hrs-val', 'children'), Output('hrs-state', 'data')],
```

ValidaciÃ³n incluida:

* Horas mÃ¡ximas = 60
* Ausencias mÃ¡ximas = 50

---

### ğŸ› **Toggles (TutorÃ­as, Apoyo Parental)**

Cambian entre "SÃ­" y "No" con animaciones y estilos visuales.

---

### â­ **Chips (Actividades extracurriculares)**

Representan actividades como deportes, mÃºsica o actividades generales.

---

### ğŸ“Š **GrÃ¡fico Donut**

Generado con Plotly para visualizar porcentaje del GPA.

```python
def create_donut(percentage):
```

---

### ğŸš¦ **Indicador de Riesgo**

Basado en la escala:

| GPA        | Nivel        |
| ---------- | ------------ |
| 3.0 â€“ 4.0  | Riesgo Bajo  |
| 2.0 â€“ 2.99 | Riesgo Medio |
| 0 â€“ 1.99   | Riesgo Alto  |

---

## ğŸ”„ **Callback principal (ConexiÃ³n API + UI)**

Este bloque:

1. Toma entradas
2. Valida los parÃ¡metros
3. Llama al API
4. Actualiza la interfaz

```python
@app.callback(
    [
        Output('donut', 'figure'),
        Output('score', 'children'),
        Output('percentage', 'children'),
        Output('risk', 'children'),
        Output('risk', 'className'),
        Output('message-container', 'children')
    ],
```

Si la API falla:

* Muestra mensaje rojo
* Activa estado de â€œError APIâ€
* No muestra una predicciÃ³n

---

# ğŸŸ¥ **5. ValidaciÃ³n y Manejo de Errores (Dash)**

La funciÃ³n:

```python
validate_inputs()
```

Comprueba rangos correctos y devuelve mensajes como:

* â€œHoras de estudio debe estar entre 0 y 60â€
* â€œAusencias debe estar entre 0 y 50â€

Si hay error:

âœ” Se muestra un recuadro rojo
âœ” El grÃ¡fico se mantiene vacÃ­o
âœ” El riesgo cambia a â€œErrorâ€

---

# ğŸŸ¦ **6. Funcionamiento paso a paso**

## **1. El usuario interactÃºa con los controles**

Selecciona horas, ausencias y actividades.

## **2. Dash valida los datos**

Antes de enviarlos a la API.

## **3. Dash envÃ­a la peticiÃ³n HTTP**

Con:

```python
requests.post(API_URL, json=payload)
```

## **4. Flask procesa la solicitud**

Carga el modelo y predice.

## **5. Dash actualiza la UI**

âœ” GPA
âœ” Porcentaje
âœ” Nivel de riesgo
âœ” GrÃ¡fico visual

---

# ğŸŸ§ **7. CÃ³mo ejecutar el proyecto**

## **A. Iniciar API Flask**

```bash
python api.py
```

Salida esperada:

```
Running on http://127.0.0.1:5000
```

## **B. Iniciar aplicaciÃ³n Dash**

```bash
python interfaz_dash.py
```

Luego abrir en el navegador:

```
http://127.0.0.1:8050
```

---

# ğŸŸ¨ **8. Requisitos**

```txt
Flask
Dash
Plotly
Joblib
Numpy
Requests
```

Instalar con:

```bash
pip install flask dash plotly joblib numpy requests
```

---

# ğŸŸª **9. ConclusiÃ³n**

Este proyecto cumple completamente los criterios de la rÃºbrica:

### âœ” Funcionalidad

La app funciona, predice, valida y maneja errores.

### âœ” InteracciÃ³n con el modelo

ConexiÃ³n APIâ€“cliente robusta.

### âœ” DiseÃ±o

Interfaz moderna, intuitiva y clara.

### âœ” ValidaciÃ³n y errores

ValidaciÃ³n estricta + mensajes descriptivos.

### âœ” DocumentaciÃ³n

CÃ³digo comentado y documentaciÃ³n completa (este documento).